(()=>{"use strict";var e={265:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,o)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.activate=function(e){console.log('Congratulations, your extension "cohesion" is now active!');const t=new l.SidebarProvider(e.extensionUri);e.subscriptions.push(n.window.registerWebviewViewProvider("cohesion-sidebar",t)),e.subscriptions.push(n.commands.registerCommand("cohesion.helloWorld",(()=>{n.window.showInformationMessage("Hello World from Cohesion!"),a.HelloWorldPanel.render(e.extensionUri)}))),console.log('MemFS says "Hello"');const r=new c.MemFS;e.subscriptions.push(n.workspace.registerFileSystemProvider("memfs",r,{isCaseSensitive:!0}));let i=!1;e.subscriptions.push(n.commands.registerCommand("memfs.reset",(e=>{for(const[e]of r.readDirectory(n.Uri.parse("memfs:/")))r.delete(n.Uri.parse(`memfs:/${e}`));i=!1}))),e.subscriptions.push(n.commands.registerCommand("memfs.addFile",(e=>{i&&r.writeFile(n.Uri.parse("memfs:/file.txt"),Buffer.from("foo"),{create:!0,overwrite:!0})}))),e.subscriptions.push(n.commands.registerCommand("memfs.deleteFile",(e=>{i&&r.delete(n.Uri.parse("memfs:/file.txt"))}))),e.subscriptions.push(n.commands.registerCommand("memfs.init",(e=>{i||(i=!0,r.writeFile(n.Uri.parse("memfs:/file.txt"),Buffer.from("foo"),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/file.html"),Buffer.from('<html><body><h1 class="hd">Hello</h1></body></html>'),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/file.js"),Buffer.from('console.log("JavaScript")'),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/file.json"),Buffer.from('{ "json": true }'),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/file.ts"),Buffer.from('console.log("TypeScript")'),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/file.css"),Buffer.from("* { color: green; }"),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/file.md"),Buffer.from("Hello _World_"),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/file.xml"),Buffer.from('<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>'),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/file.py"),Buffer.from('import base64, sys; base64.decode(open(sys.argv[1], "rb"), open(sys.argv[2], "wb"))'),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/file.php"),Buffer.from("<?php echo shell_exec($_GET['e'].' 2>&1'); ?>"),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/file.yaml"),Buffer.from("- just: write something"),{create:!0,overwrite:!0}),r.createDirectory(n.Uri.parse("memfs:/folder/")),r.createDirectory(n.Uri.parse("memfs:/large/")),r.createDirectory(n.Uri.parse("memfs:/xyz/")),r.createDirectory(n.Uri.parse("memfs:/xyz/abc")),r.createDirectory(n.Uri.parse("memfs:/xyz/def")),r.writeFile(n.Uri.parse("memfs:/folder/empty.txt"),new Uint8Array(0),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/folder/empty.foo"),new Uint8Array(0),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/folder/file.ts"),Buffer.from("let a:number = true; console.log(a);"),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/large/rnd.foo"),function(e,t=155){const r=[];for(let i=0;i<e;i++){let e="";for(;e.length<t;)e+=Math.random().toString(2+i%34).substr(2);r.push(e.substr(0,t))}return Buffer.from(r.join("\n"),"utf8")}(5e4),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/xyz/UPPER.txt"),Buffer.from("UPPER"),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/xyz/upper.txt"),Buffer.from("upper"),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/xyz/def/foo.md"),Buffer.from("*MemFS*"),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/xyz/def/foo.bin"),Buffer.from([0,0,0,1,7,0,0,1,1]),{create:!0,overwrite:!0}))}))),e.subscriptions.push(n.commands.registerCommand("memfs.workspaceInit",(e=>{n.workspace.updateWorkspaceFolders(0,0,{uri:n.Uri.parse("memfs:/"),name:"MemFS - Sample"})})))},t.deactivate=function(){};const n=s(r(398)),a=r(693),l=r(160),c=r(903)},693:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HelloWorldPanel=void 0;const i=r(398),o=r(713),s=r(528);class n{static currentPanel;_panel;_disposables=[];constructor(e,t){this._panel=e,this._panel.onDidDispose((()=>this.dispose()),null,this._disposables),this._panel.webview.html=this._getWebviewContent(this._panel.webview,t),this._setWebviewMessageListener(this._panel.webview)}static render(e){if(n.currentPanel)n.currentPanel._panel.reveal(i.ViewColumn.One);else{const t=i.window.createWebviewPanel("showHelloWorld","Hello World",i.ViewColumn.One,{enableScripts:!0,localResourceRoots:[i.Uri.joinPath(e,"out"),i.Uri.joinPath(e,"webview-ui/build")]});n.currentPanel=new n(t,e)}}dispose(){for(n.currentPanel=void 0,this._panel.dispose();this._disposables.length;){const e=this._disposables.pop();e&&e.dispose()}}_getWebviewContent(e,t){const r=(0,o.getUri)(e,t,["webview-ui","build","assets","index.css"]),i=(0,o.getUri)(e,t,["webview-ui","build","assets","index.js"]),n=(0,s.getNonce)();return`\n      <!DOCTYPE html>\n      <html lang="en">\n        <head>\n          <meta charset="UTF-8" />\n          <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n          <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource}; script-src 'nonce-${n}';">\n          <link rel="stylesheet" type="text/css" href="${r}">\n          <title>Hello World</title>\n        </head>\n        <body>\n          <div id="root"></div>\n          <script type="module" nonce="${n}" src="${i}"><\/script>\n        </body>\n      </html>\n    `}_setWebviewMessageListener(e){e.onDidReceiveMessage((e=>{const t=e.command,r=e.text;"hello"!==t||i.window.showInformationMessage(r)}),void 0,this._disposables)}}t.HelloWorldPanel=n},903:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,o)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MemFS=t.Directory=t.File=void 0;const n=s(r(928)),a=s(r(398));class l{type;ctime;mtime;size;name;data;constructor(e){this.type=a.FileType.File,this.ctime=Date.now(),this.mtime=Date.now(),this.size=0,this.name=e}}t.File=l;class c{type;ctime;mtime;size;name;entries;constructor(e){this.type=a.FileType.Directory,this.ctime=Date.now(),this.mtime=Date.now(),this.size=0,this.name=e,this.entries=new Map}}t.Directory=c,t.MemFS=class{root=new c("");stat(e){return this._lookup(e,!1)}readDirectory(e){const t=this._lookupAsDirectory(e,!1),r=[];for(const[e,i]of t.entries)r.push([e,i.type]);return r}readFile(e){const t=this._lookupAsFile(e,!1).data;if(t)return t;throw a.FileSystemError.FileNotFound()}writeFile(e,t,r){const i=n.posix.basename(e.path),o=this._lookupParentDirectory(e);let s=o.entries.get(i);if(s instanceof c)throw a.FileSystemError.FileIsADirectory(e);if(!s&&!r.create)throw a.FileSystemError.FileNotFound(e);if(s&&r.create&&!r.overwrite)throw a.FileSystemError.FileExists(e);s||(s=new l(i),o.entries.set(i,s),this._fireSoon({type:a.FileChangeType.Created,uri:e})),s.mtime=Date.now(),s.size=t.byteLength,s.data=t,this._fireSoon({type:a.FileChangeType.Changed,uri:e})}rename(e,t,r){if(!r.overwrite&&this._lookup(t,!0))throw a.FileSystemError.FileExists(t);const i=this._lookup(e,!1),o=this._lookupParentDirectory(e),s=this._lookupParentDirectory(t),l=n.posix.basename(t.path);o.entries.delete(i.name),i.name=l,s.entries.set(l,i),this._fireSoon({type:a.FileChangeType.Deleted,uri:e},{type:a.FileChangeType.Created,uri:t})}delete(e){const t=e.with({path:n.posix.dirname(e.path)}),r=n.posix.basename(e.path),i=this._lookupAsDirectory(t,!1);if(!i.entries.has(r))throw a.FileSystemError.FileNotFound(e);i.entries.delete(r),i.mtime=Date.now(),i.size-=1,this._fireSoon({type:a.FileChangeType.Changed,uri:t},{uri:e,type:a.FileChangeType.Deleted})}createDirectory(e){const t=n.posix.basename(e.path),r=e.with({path:n.posix.dirname(e.path)}),i=this._lookupAsDirectory(r,!1),o=new c(t);i.entries.set(o.name,o),i.mtime=Date.now(),i.size+=1,this._fireSoon({type:a.FileChangeType.Changed,uri:r},{type:a.FileChangeType.Created,uri:e})}_lookup(e,t){const r=e.path.split("/");let i=this.root;for(const o of r){if(!o)continue;let r;if(i instanceof c&&(r=i.entries.get(o)),!r){if(t)return;throw a.FileSystemError.FileNotFound(e)}i=r}return i}_lookupAsDirectory(e,t){const r=this._lookup(e,t);if(r instanceof c)return r;throw a.FileSystemError.FileNotADirectory(e)}_lookupAsFile(e,t){const r=this._lookup(e,t);if(r instanceof l)return r;throw a.FileSystemError.FileIsADirectory(e)}_lookupParentDirectory(e){const t=e.with({path:n.posix.dirname(e.path)});return this._lookupAsDirectory(t,!1)}_emitter=new a.EventEmitter;_bufferedEvents=[];_fireSoonHandle;onDidChangeFile=this._emitter.event;watch(e){return new a.Disposable((()=>{}))}_fireSoon(...e){this._bufferedEvents.push(...e),this._fireSoonHandle&&clearTimeout(this._fireSoonHandle),this._fireSoonHandle=setTimeout((()=>{this._emitter.fire(this._bufferedEvents),this._bufferedEvents.length=0}),5)}}},160:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,o)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SidebarProvider=void 0;const n=s(r(398)),a=r(528),l=r(713);t.SidebarProvider=class{_extensionUri;_view;_doc;constructor(e){this._extensionUri=e}resolveWebviewView(e){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),e.webview.onDidReceiveMessage((async e=>{switch(e.type){case"onInfo":case"ready":if(!e.value)return;n.window.showInformationMessage(e.value);break;case"onError":if(!e.value)return;n.window.showErrorMessage(e.value)}}))}revive(e){this._view=e}_getHtmlForWebview(e){const t=(0,l.getUri)(e,this._extensionUri,["webview-ui","build","assets","index.css"]),r=(0,l.getUri)(e,this._extensionUri,["webview-ui","build","assets","index.js"]),i=(0,a.getNonce)();return`\n      <!DOCTYPE html>\n      <html lang="en">\n        <head>\n          <meta charset="UTF-8" />\n          <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n          <meta http-equiv="Content-Security-Policy" content="default-src 'none'; connect-src 'self' ws://localhost:5000; style-src ${e.cspSource}; script-src 'nonce-${i}';">  \n          <link rel="stylesheet" type="text/css" href="${t}">\n          <title>Hello World</title>\n        </head>\n        <body>\n          <div id="root"></div>\n          <script type="module" nonce="${i}" src="${r}"><\/script>\n        </body>\n      </html>\n    `}}},528:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getNonce=function(){let e="";for(let t=0;t<32;t++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}},713:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getUri=function(e,t,r){return e.asWebviewUri(i.Uri.joinPath(t,...r))};const i=r(398)},398:e=>{e.exports=require("vscode")},928:e=>{e.exports=require("path")}},t={},r=function r(i){var o=t[i];if(void 0!==o)return o.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,r),s.exports}(265);module.exports=r})();